{"pageProps":{"frontMatter":{"title":"Let's Encrypt ì™€ acme.sh ì‚¬ìš©í•˜ê¸°","author":"Dongha Kang","date":"2022-01-20","tag":["SSL","https"]},"slug":"letsencrypt","mdxSource":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, {})\n  })) : _createMdxContent();\n  function _createMdxContent() {\n    const _components = Object.assign({\n      h2: \"h2\",\n      p: \"p\",\n      ol: \"ol\",\n      li: \"li\",\n      a: \"a\",\n      strong: \"strong\",\n      pre: \"pre\",\n      code: \"code\"\n    }, _provideComponents(), props.components);\n    return _jsxs(_Fragment, {\n      children: [_jsx(_components.h2, {\n        children: \"ğŸ’ğŸ»â€â™‚ï¸Â Letâ€™s Encryptë€?\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ê¸°ë³¸ì ìœ¼ë¡œ httpsë¥¼ ì›¹ì— ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ”, CA (Certified Authority)ë¡œ ë¶€í„° ì¸ì¦ì„œë¥¼ ë°œê¸‰ ë°›ì•„ì•¼í•˜ëŠ”ë°, Letâ€™s EncryptëŠ” CAë¼ê³  ìƒê°í•˜ë©´ëœë‹¤. Letâ€™s Encryptê°€ ì°¨ë³„í™” ë˜ëŠ” ì´ìœ ëŠ” ëŒ€ë¶€ë¶„ì˜ ì¸ì¦ì„œê°€ ìœ ë£Œì¸ ë°˜ë©´, letâ€™s encryptëŠ” ë¬´ë£Œë¼ëŠ” ì¥ì ì´ ìˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"ğŸ˜’Â ë‹¨ì ..\"\n      }), \"\\n\", _jsxs(_components.ol, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"domain validated SSL certificate ì´ë‹¤ ë³´ë‹ˆ, ê·¸ ì›¹ì‚¬ì´íŠ¸ë¥¼ ê°œë°œí•œ ì‚¬ëŒì— ëŒ€í•œ ì •ë³´ë¥¼ ì €ì¥í•˜ì§€ ì•Šì•„ì„œ ë§Œì•½ virusë‚˜ ì•…ì„±ì½”ë“œê°€ ìˆë‹¤ë©´ ëˆ„ê°€ ê·¸ ë‚˜ìœì§“ì„ í–ˆëŠ”ì§€ ì¶”ì í•˜ê¸°ê°€ ì–´ë µë‹¤.\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"ì¸ì¦ì„œ ìœ íš¨ê¸°ê°„ì´ ì§§ë‹¤, í•˜ì§€ë§Œ ìë™ ê°±ì‹  ì„¤ì •ë„ ìˆë‹¤ëŠ”ê²ƒ. ê·¸ë˜ë„ dockerë¥¼ ì‚¬ìš©í•œë‹¤ë©´ í•œë²ˆ ì”© buildë¥¼ ë‹¤ì‹œ í•´ì¤˜ì•¼ í•œë‹¤.\"\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"í•œê°œì˜ ì›¹ì‚¬ì´íŠ¸ë§Œ ì§€ì›ëœë‹¤. ì˜ˆë¥¼ë“¤ì–´ \", _jsx(_components.a, {\n            href: \"http://www.website.com\",\n            children: \"www.website.com\"\n          }), \" ì´ ìˆê³  blog.website.comì´ ìˆë‹¤ë©´ ë”°ë¡œ 2ê°œì˜ ì›¹ì‚¬ì´íŠ¸ë¡œ ë§Œë“¤ì–´ì•¼í•˜ë©° ë‘ê°œì˜ ì¸ì¦ì„ ë°›ì•„ì•¼í•œë‹¤\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ê½ì§œì¸ê±° ì¹˜ê³ ëŠ” ê´œì°®ë‹¤.\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"SSL Ceritficateì„ ì¬ê°±ì‹ í•˜ëŠ”ë°ëŠ” \", _jsx(_components.a, {\n          href: \"http://acme.sh\",\n          children: \"acme.sh\"\n        }), \" ë¥¼ ì‚¬ìš©í•  ì˜ˆì •ì´ë‹¤. \", _jsx(_components.strong, {\n          children: \"acme.sh\"\n        }), \"ëŠ” ì•„ì£¼ ì‰½ê³  ë¹ ë¥´ê²Œ ssl certificateì„ ê°±ì‹ /ì¬ë°œê¸‰ í•´ì¤€ë‹¤.\"]\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"ğŸš€Â Installation\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ë³¸ì¸ì€ centos/mac í™˜ê²½ì—ì„œ ì§„í–‰í–ˆë‹¤.\"\n      }), \"\\n\", _jsxs(_components.ol, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"ìš°ì„  certbot, Letâ€™s encryptë¥¼ ë‹¤ìš´ë°›ëŠ”ë‹¤.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          children: \"sudo apt-get install certbot # centos\\nbrew install certbot # macos\\n\"\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"http://acme.sh\",\n          children: \"acme.sh\"\n        }), \" ë„ ë‹¤ìš´ ë°›ëŠ”ë‹¤\"]\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          children: \"curl https://get.acme.sh | sh -s email=my@example.com         # curl\\nwget -O -  https://get.acme.sh | sh -s email=my@example.com   # wget\\n\"\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"ë‹¤ìš´ ë°›ê³ , bashë‚˜ zshì— aliasë¡œ \", _jsx(_components.a, {\n          href: \"http://acme.sh\",\n          children: \"acme.sh\"\n        }), \" ë¥¼ ì„¤ì • í•´ì¤€ë‹¤.\"]\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          children: \"alias acme.sh=~/.acme.sh/acme.sh    # ë§¥ í™˜ê²½, centosëŠ” rootê³„ì •ì— ì¶”ê°€ëœë‹¤.\\n\"\n        })\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"âœ¨Â ì¸ì¦ì„œ ìƒì„±\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"ë³¸ì¸ ê°™ì€ ê²½ìš°ëŠ” ì¢€ ë‹¤ë¥´ê²Œ port 80ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ì—ˆë‹¤. ê·¸ë˜ì„œ \", _jsx(_components.a, {\n          href: \"https://jmorahan.net/articles/lets-encrypt-without-port-80/\",\n          children: \"ì—¬ê¸°\"\n        }), \"ë¥¼ ì°¸ê³ í–ˆë‹¤. ìš°ì„ , ê·¸ê²ƒì„ ë°°ì œí•˜ê³  ì›ë˜ëŒ€ë¡œë¼ë©´ ì•„ë˜ì™€ ê°™ì´ ì¸ì¦ì„œë¥¼ ìƒì„±í•œë‹¤.\"]\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          children: \"acme.sh --issue --dns -d <my domain>\\n\"\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"ê° ìƒí™© ë³„ë¡œ \", _jsx(_components.code, {\n          children: \"â€”dns\"\n        }), \" ê°€ \", _jsx(_components.code, {\n          children: \"â€”webroot\"\n        }), \", \", _jsx(_components.code, {\n          children: \"â€”nginx\"\n        }), \"ë“± ë‹¤ì–‘í•œ flagê°€ í•„ìš”í•  ìˆ˜ ë„ ìˆìœ¼ë‹ˆ, ê·¸ì— ì•Œë§ëŠ” flagë¥¼ ë„£ì–´ì„œ ì¸ì¦ì„œë¥¼ ìƒì„±í•´ë³´ì. \", _jsx(_components.a, {\n          href: \"https://github.com/acmesh-official/acme.sh\",\n          children: \"ì—¬ê¸°\"\n        }), \"ë¥¼ ì°¸ê³ í•˜ì\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"ì—¬ê¸° ê¹Œì§€ ë‹¤ ì™„ë£Œê°€ ë˜ì—ˆë‹¤ë©´ /root/.acme.sh ë¼ëŠ” í´ë”ê°€ ìƒì„±ì´ ë˜ì—ˆì„ ê²ƒì´ê³ , ê·¸ì™€ ë™ì‹œì— \", _jsx(_components.code, {\n          children: \"/root/.acme.sh/<my domain>\"\n        }), \" ì´ë¼ëŠ” í´ë”ë„ ìƒì„± ë˜ì—ˆìœ¼ë©°, ê·¸ ì•ˆì— ì‹¤í–‰ í›„ í´ë”ë¥¼ í™•ì¸í•´ë³´ë©´ \", _jsx(_components.code, {\n          children: \"<url>.cer\"\n        }), \", \", _jsx(_components.code, {\n          children: \"<url>.key\"\n        }), \", \", _jsx(_components.code, {\n          children: \"ca.cer\"\n        }), \", \", _jsx(_components.code, {\n          children: \"fullchain.cer\"\n        }), \" ë“± ë‹¤ì–‘í•œ certificate íŒŒì¼ë“¤ì´ ìƒì„±ì´ ë˜ì—ˆì„ ê²ƒì´ë‹¤. ì´ë ‡ê²Œ ë˜ë©´ ê°±ì‹ ì´ ì™„ë£Œ ë˜ì—ˆìœ¼ë©°, \", _jsx(_components.code, {\n          children: \"service nginx start\"\n        }), \" ìœ¼ë¡œ nginx serviceê°€ ì‹œì‘ì´ ëœë‹¤.\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ì¬ê°±ì‹  ê°™ì€ ê²½ìš°\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-bash\",\n          children: \"acme.sh --renew -d <my domain>\\n\"\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"ë¥¼ ì‹¤í–‰ ì‹œí‚¤ë©´ ì•Œì•„ì„œ í´ë”ì— ì €ì¥ì´ëœë‹¤. ì‹¤í–‰ í›„ í´ë”ë¥¼ í™•ì¸í•´ë³´ë©´ \", _jsx(_components.code, {\n          children: \"<url>.cer\"\n        }), \", \", _jsx(_components.code, {\n          children: \"<url>.key\"\n        }), \", \", _jsx(_components.code, {\n          children: \"ca.cer\"\n        }), \", \", _jsx(_components.code, {\n          children: \"fullchain.cer\"\n        }), \" ë“± ë‹¤ì–‘í•œ certificate íŒŒì¼ë“¤ì´ ìƒì„±ì´ ë˜ì—ˆì„ ê²ƒì´ë‹¤. ì´ë ‡ê²Œ ë˜ë©´ ê°±ì‹ ì´ ì™„ë£Œ ë˜ì—ˆìœ¼ë©°, \", _jsx(_components.code, {\n          children: \"service nginx start\"\n        }), \" ìœ¼ë¡œ nginx serviceê°€ ì‹œì‘ì´ ëœë‹¤.\"]\n      })]\n    });\n  }\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true}