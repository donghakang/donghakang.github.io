{"pageProps":{"frontMatter":{"title":"ğŸ“¡ useSWR","author":"Dongha Kang","date":"2021-11-24","tag":["React"]},"slug":"useSWR","mdxSource":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, {})\n  })) : _createMdxContent();\n  function _createMdxContent() {\n    const _components = Object.assign({\n      h1: \"h1\",\n      blockquote: \"blockquote\",\n      p: \"p\",\n      strong: \"strong\",\n      pre: \"pre\",\n      code: \"code\"\n    }, _provideComponents(), props.components);\n    return _jsxs(_Fragment, {\n      children: [_jsx(_components.h1, {\n        children: \"SWRì´ë€ ?\"\n      }), \"\\n\", _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [_jsx(_components.strong, {\n            children: \"SWR\"\n          }), \"ì€ ë¦¬ì•¡íŠ¸ìƒì—ì„œ httpë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ fetch í• ë•Œ ìœ ìš©í• ë•Œ ì“°ì´ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ë°, ìºì‹œ/ìŠ¤íƒœì¼ ë¡œë¶€í„° ë°ì´í„°ë¥¼ ë°˜í™˜í•œ í›„, fetchìš”ì²­ì„ ì¬ê²€ì¦í•˜ê³  ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-jsx\",\n          children: \"const fetcher = url => axios.get(url).then(res => res.data);\\nconst { data, error } = useSWR(URL + '/fetch_practice/', fetcher);\\n\"\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"ìœ„ì— ì˜ˆì‹œë¥¼ ë³´ë©´ keyëŠ” \", _jsx(_components.code, {\n          children: \"URL + '/fetch_practice/'\"\n        }), \" ì´ë©°, ì´ ì‹ë³„ìëŠ” ë‚˜ì¤‘ì— ì‚¬ìš©ì´ë©ë‹ˆë‹¤. \", _jsx(_components.code, {\n          children: \"fetcher\"\n        }), \"ëŠ” ë°ì´í„°ë¥¼ ë³€í™˜í•˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ ì…ë‹ˆë‹¤.\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ì¼ë°˜ì ì¸ fetching ë¿ë§Œ ì•„ë‹ˆë¼ ìœ„ì— ì˜ˆì‹œì²˜ëŸ¼ axiosë¥¼ ì‚¬ìš©í•´ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"í•˜ì§€ë§Œ, SWRì˜ ë¹›ì€ ë‹¹ì—°ì»¨ë° ì¬ì‚¬ìš© ê°€ëŠ¥ ì¸ ê²ƒ ê°™ë‹¤.\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-jsx\",\n          children: \"function useUser (id) {\\n  const { data, error } = useSWR(`/api/user/${id}`, fetcher)\\n\\n  return {\\n    user: data,\\n    isLoading: !error && !data,\\n    isError: error\\n  }\\n}\\n\"\n        })\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-jsx\",\n          children: \"function Avatar ({ id }) {\\n  const { user, isLoading, isError } = useUser(id)\\n\\n  if (isLoading) return <Spinner />\\n  if (isError) return <Error />\\n  return <img src={user.avatar} />\\n}\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ì´ëŸ°ì‹ìœ¼ë¡œ custom hook ì„ ë§Œë“¤ì–´ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"ì´ SWR ë¥¼ ì‚¬ìš©í•˜ê²Œ ëœ ê³„ê¸°ëŠ” ë°”ë¡œ \", _jsx(_components.code, {\n          children: \"mutate\"\n        }), \"ë¼ëŠ” ê¸°ëŠ¥ ë•Œë¬¸ì´ë‹¤.\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [_jsx(_components.strong, {\n          children: \"ë®¤í…Œì´íŠ¸\"\n        }), \"ë€ mutate(key)ë¥¼ ì‚¬ìš©í•´ì„œ ë™ì¼í•œ í‚¤ë¥¼ ê°€ì§„ í•¨ìˆ˜ë¥¼ ë¸Œë¡œë“œìºìŠ¤íŒ…í•˜ë©° ë¦¬ë¡œë”© í•˜ëŠ” ì‘ì—…ì„ ëœ»í•œë‹¤.\"]\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-jsx\",\n          children: \"import { mutate } from 'swr';\\n\\n...\\nfunction handleClick(groupName) {\\n  axios.post(URL + '/groups/', { id: -1, name: groupName })\\n  .then(() => {\\n    setStatus('ok');\\n    onClose();\\n  })\\n  .catch(err => setError({ status: true, message: 'Connection failed' }));\\n}\\n\"\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"ì´ëŸ° ì‹ì— ì½”ë“œê°€ ìˆì—ˆë‹¤ê³  ê°€ì •í•˜ë©´, \", _jsx(_components.code, {\n          children: \"post\"\n        }), \" í†µì‹ ì´ ì¢…ë£Œ ë˜ì—ˆì„ë•Œ, status ë¥¼ ok ë¡œ ë°”ê¾¸ì–´ì£¼ëŠ” \", _jsx(_components.code, {\n          children: \"useState\"\n        }), \"ë§Œ ì‚¬ìš©ëœë‹¤ë¼ëŠ” ê²ƒì„ íŒŒì•…í•  ìˆ˜ ìˆë‹¤.\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"ë§Œì•½ì— parent ì»´í¬ë„ŒíŠ¸ì— ë‹¤ë¥¸ í†µì‹ ì´ ì§„í–‰ì´ë˜ê³  ìˆê³  ìœ„ì— ì½”ë“œê°€ ë¬¼ë ¤ë°›ì€ ë°ì´í„°ë¥¼ ì´ìš©í•œ í†µì‹ ì´ë¼ë©´ component í†µì‹ ì´ ì™„ì „íˆ ì—…ë°ì´íŠ¸ ë˜ëŠ”ê²ƒì´ ì•„ë‹Œ status ë§Œ ë³€ê²½ëœë‹¤. ë¬¼ë¡  \", _jsx(_components.code, {\n          children: \"useState\"\n        }), \"ë¥¼ ë‹¤ì‹œ ì´ìš©í•´ì„œ parent componentë¥¼ re-renderí•´ë„ ë˜ì§€ë§Œ, ë§Œì•½ ê·¸ëƒ¥ ìºì‹œ í†µì‹ ì„ ì´ìš©í•´ì„œ ìƒˆë¡œìš´ ë°ì´í„°ë¡œ re-rendering í•  ìˆ˜ ìˆëŠ” ë°©ë²•ë„ ìˆì„ ê²ƒì´ë‹¤.\"]\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-jsx\",\n          children: \"import { mutate } from 'swr';\\n\\n...\\nfunction handleClick(groupName) {\\n  axios.post(URL + '/groups/', { id: -1, name: groupName })\\n  .then(() => {\\n    setStatus('ok');\\n    mutate(URL + '/fetch_practice/');\\n    onClose();\\n  })\\n  .catch(err => setError({ status: true, message: 'Connection failed' }));\\n}\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ì´ ì²˜ëŸ¼ swr ë¥¼ ì´ìš©í•´ì„œ ê¸°ì¡´ì— ìºì‹œì— ì €ì¥ë˜ì—ˆë˜ swrë¥¼ í‚¤ë¡œ ë¶ˆëŸ¬ì™€ì„œ ë‹¤ì‹œ ë Œë”ë§ í•œë‹¤ë©´, ì²˜ìŒ ê·¸ dataê°€ fetch ë˜ì—ˆë˜ ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ì‹œ ë Œë”ë§ ë˜ê³  ê·¸ë ‡ê²Œ ë˜ë©´ ëª¨ë“  child componentë„ ë‹¤ì‹œ ì—…ë°ì´íŠ¸ ë  ê²ƒì´ë‹¤.\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ì•„ì§ SWRë¥¼ ì œëŒ€ë¡œ ì‚¬ìš©í•´ë³´ì§€ë„, ì œëŒ€ë¡œ ì™„ë²½íˆ ì´í•´í•˜ì§€ëŠ” ëª»í–ˆì§€ë§Œ, ì´ëŸ° ë‘ê°€ì§€ë§Œ ì˜ ì‚¬ìš©í•´ë„ êµ‰ì¥íˆ ë¹ ë¥´ê³  í¸ë¦¬í•œ ë°ì´í„° í†µì‹ ì´ ë˜ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.\"\n      })]\n    });\n  }\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true}