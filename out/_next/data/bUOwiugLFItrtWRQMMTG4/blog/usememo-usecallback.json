{"pageProps":{"frontMatter":{"title":"useMemoì™€ useCallback","author":"Dongha Kang","date":"2022-01-21","tag":["React","hook"]},"slug":"usememo-usecallback","mdxSource":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, {})\n  })) : _createMdxContent();\n  function _createMdxContent() {\n    const _components = Object.assign({\n      p: \"p\",\n      code: \"code\",\n      h2: \"h2\",\n      pre: \"pre\",\n      strong: \"strong\",\n      ul: \"ul\",\n      li: \"li\",\n      a: \"a\"\n    }, _provideComponents(), props.components);\n    return _jsxs(_Fragment, {\n      children: [_jsxs(_components.p, {\n        children: [_jsx(_components.code, {\n          children: \"useState\"\n        }), \", \", _jsx(_components.code, {\n          children: \"useEffect\"\n        }), \" ë¥¼ ì •ë§ë¡œ ë§ì´ ì“°ì§€ë§Œ, ìµœê·¼ì— ì»¤ë®¤ë‹ˆí‹°ì— í•œë¶„ê³¼ ëŒ€í™”í•˜ëŠ” ê³¼ì •ì—ì„œ í˜„ì—…ì—ì„œëŠ” useCallbackê³¼ useMemoë¥¼ ì •ë§ë¡œ ë§ì´ ì“´ë‹¤ê³  í•´ì„œ ë‹¤ì‹œí•œ ë²ˆ useMemo, useCallbackì„ ì˜ ì„¤ëª… í•  ìˆ˜ ìˆëŠ” ì •ë„ì˜ ì´í•´ë¥¼ í•˜ë ¤í•œë‹¤.\"]\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"ğŸ¦Â useMemo\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-jsx\",\n          children: \"const memoizedResult = useMemo(() => {\\n  return expensiveFunction(a, b);\\n}, [a, b]);\\n\"\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"useMemoëŠ” \", _jsx(_components.strong, {\n          children: \"ë©”ëª¨ì´ì œì´ì…˜\"\n        }), \"ëœ ê°’ì„ ë³€í™˜í•©ë‹ˆë‹¤. useMemoëŠ” ì˜ì¡´ì„±ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œì—ë§Œ ë©”ëª¨ì´ì œì´ì…˜ëœ ê°’ë§Œ ë‹¤ì‹œ ê³„ì‚°í•  ê²ƒì…ë‹ˆë‹¤. ì´ ìµœì í™”ëŠ” ëª¨ë“  ë Œë”ë§ ì‹œì˜ ê³ ë¹„ìš© ê³„ì‚°ì„ ë°©ì§€í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \".. ê°€ ë¬´ìŠ¨ ë§ì¼ê¹Œ? ë‚˜ëŠ” ì˜ˆì‹œê°€ ë” í¸í•˜ë‹¤.\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"factorialì„ êµ¬í•˜ëŠ” ì½”ë“œê°€ ìˆë‹¤ê³  ìƒê°í•˜ì.\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-jsx\",\n          children: \"function factorialFn(n) {\\n  console.log(\\\"factorial called\\\");\\n  return n <= 0 ? 1 : n * factorialFn(n - 1);\\n}\\n\\nfunction CalculateFactorial() {\\n  const [number, setNumber] = useState(1);\\n  const [num, setNum] = useState(0);\\n  const factorial = factorialFn(number);\\n  function onChange(e) {\\n  setNumber(Number(e.target.value));\\n  }\\n\\n  return (\\n  <div>\\n    <input type=\\\"number\\\" value={number} onChange={onChange} />! = {factorial}\\n    <button onClick={() => setNum((prevState) => prevState + 1)}>\\n    Re-render..\\n    </button>\\n  </div>\\n  );\\n}\\n\\nexport default CalculateFactorial;\\n\"\n        })\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"number: factorial í•˜ëŠ” ìˆ«ì,\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"num: ë²„íŠ¼ì„ ëˆ„ë¥¼ë•Œë§ˆë‹¤ ì˜¬ë¼ê°€ëŠ” ìˆ«ì\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"âš ï¸Â Reactì˜ íŠ¹ì§•ì¤‘ í•˜ë‚˜ëŠ”, stateê°’ì´ë‚˜ props ê°’ì´ ë³€ê²½ì´ ë˜ë©´ ê·¸ componentê°€ re-renderë˜ëŠ” íŠ¹ì§•ì´ ìˆë‹¤.\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"ì¦‰, useState ë§Œ ì‚¬ìš©í•œ ì½”ë“œì—ì„œëŠ” factorialì´ë‘ ê´€ê³„ê°€ ì—†ëŠ” ì € ë²„íŠ¼! ë²„íŠ¼ì„ ëˆŒëŸ¬ë„ factorial ê°’ì´ re-rendering ë˜ê¸° ë•Œë¬¸ì— \", _jsx(_components.code, {\n          children: \"factorial called\"\n        }), \" ë¼ëŠ” ë¬¸êµ¬ê°€ ì½˜ì†”ì°½ì— ëœ¬ë‹¤.\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ìœ„ ìƒí™©ì—ì„œ ì²˜ëŸ¼ ê°’ë¹„ì‹¼ functionë“¤ì„ ëŒë¦´ë•Œì—ëŠ” ë§¤ë²ˆ re-renderë¥¼ í•˜ê²Œ ëœë‹¤ë©´ êµ‰ì¥íˆ ëŠë ¤ì§ˆ ê²ƒì´ë‹¤.\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-jsx\",\n          children: \"function factorialFn(n) {\\n  console.log(\\\"factorial called\\\");\\n  return n <= 0 ? 1 : n * factorialFn(n - 1);\\n}\\n\\nfunction CalculateFactorial() {\\n  const [number, setNumber] = useState(1);\\n  const [num, setNum] = useState(0);\\n  const factorial = useMemo(() => factorialFn(number), [number]);\\n\\n  function onChange(e) {\\n  setNumber(Number(e.target.value));\\n  }\\n\\n  return (\\n  <div>\\n    <input type=\\\"number\\\" value={number} onChange={onChange} />! = {factorial}\\n    <button onClick={() => setNum((prevState) => prevState + 1)}>\\n    Re-render..\\n    </button>\\n  </div>\\n  );\\n}\\n\\nexport default CalculateFactorial;\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"í•˜ì§€ë§Œ useMemoë¥¼ ìœ„ì˜ ì½”ë“œì²˜ëŸ¼ ì´ìš©í•˜ê²Œ ëœë‹¤ë©´, ë¶ˆí•„ìš”í•œ re-renderingì´ ë©ˆì·„ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ì¦‰, ìœ„ì˜ ì½”ë“œëŠ” number ê°’ì´ ë°”ë€”ë•ŒëŠ” factorialFnì´ re-rendering ì—†ì´ ê·¸ í•¨ìˆ˜ë§Œ í˜¸ì¶œë˜ëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"ğŸ¯Â useCallback\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-jsx\",\n          children: \"const memoizedFunction = useCallback(() => {\\n  expensiveFunction(a, b);\\n}, [a, b]);\\n\"\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"useMemoëŠ” ë©”ëª¨ì´ì œì´ì…˜ ê°’ì„, useCallbackëŠ” \", _jsx(_components.strong, {\n          children: \"ë©”ëª¨ì´ì œì´ì…˜ í•¨ìˆ˜\"\n        }), \"ë¥¼ ëœ»í•œë‹¤.\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"useCallbackì€ ì˜ì¡´ì„±ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œì—ë§Œ ë³€ê²½ëœë‹¤. class ì—ì„œ ì‚¬ìš©í• ë•Œì˜ shouldComponentUpdateì²˜ëŸ¼...\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ì€ ì˜ˆì‹œë¡œ ë³´ì\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-jsx\",\n          children: \"const List = ({ getItems }) => {\\n  const [items, setItems] = useState([]);\\n  useEffect(() => {\\n  setItems(getItems());\\n  console.log(\\\"render lists... \\\");\\n  }, [getItems]);\\n  return items.map((item) => <div key={item}>{item}</div>);\\n};\\n\\nfunction Parent() {\\n  const [number, setNumber] = useState(1);\\n  const [dark, setDark] = useState(false);\\n\\n  const getItems = () => {\\n  return [number, number + 1, number + 2];\\n  };\\n\\n  const theme = {\\n  backgroundColor: dark ? \\\"#333\\\" : \\\"#FFF\\\",\\n  color: dark ? \\\"#FFF\\\" : \\\"#333\\\",\\n  };\\n\\n  const onChange = (e) => {\\n  setNumber(parseInt(e.target.value));\\n  };\\n\\n  const onClick = () => {\\n  setDark((prevDark) => !prevDark);\\n  };\\n  return (\\n  <div style={theme}>\\n    <input type=\\\"number\\\" value={number} onChange={onChange} />\\n    <button onClick={onClick}>Toggle Theme</button>\\n    <List getItems={getItems} />\\n  </div>\\n  );\\n}\\n\"\n        })\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"number: input type ì—ì„œ ì§€ì •í•´ì£¼ëŠ” ìˆ«ì\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"dark: í…Œë§ˆë¥¼ ë³€ê²½í•´ì£¼ëŠ” boolean ê°’.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ì§€ê¸ˆ useCallbackì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš°, í…Œë§ˆë¥¼ ë°”ê¾¸ëŠ” ë²„íŠ¼ì„ ëˆ„ë¥¼ì‹œ Parent ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ë Œë”ë§ ë˜ì„œ getItems ë¥¼ ë‹¤ì‹œ í˜¸ì¶œ ì‹œí‚¤ëŠ”ë°, ê·¸ ê³¼ì •ì—ì„œ getItemsë¥¼ Propsë¡œ ë°›ë˜ List ë˜í•œ ë‹¤ì‹œ ë Œë”ë§ì´ ëœë‹¤.\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ì§€ê¸ˆ ê°™ì€ ê²½ìš° getItemsê°€ ê·¸ëƒ¥ ë§ì…ˆ ë°–ì— ì—†ì§€ë§Œ, ë§Œì•½ì— í†µì‹ ê°™ì€ ë¹„ì‹¼ í•¨ìˆ˜ ê°’ì´ë¼ë©´ ë¶ˆí•„ìš”í•œ ë¡œë”© íƒ€ì„ì´ ì†Œìš” ë  ìˆ˜ë„ ìˆë‹¤. ê·¸ëŸ¬ë©´ getItems ë¥¼ í•œë²ˆ ë°”ê¿”ë³´ì\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-jsx\",\n          children: \"const List = ({ getItems }) => {\\n  const [items, setItems] = useState([]);\\n  useEffect(() => {\\n  setItems(getItems());\\n  console.log(\\\"render list... \\\");\\n  }, [getItems]);\\n  return items.map((item) => <div key={item}>{item}</div>);\\n};\\n\\nfunction Parent() {\\n  const [number, setNumber] = useState(1);\\n  const [dark, setDark] = useState(false);\\n\\n  const getItems = useCallback(() => {\\n  return [number, number + 1, number + 2];\\n  }, [number]);\\n\\n  const theme = {\\n  backgroundColor: dark ? \\\"#333\\\" : \\\"#FFF\\\",\\n  color: dark ? \\\"#FFF\\\" : \\\"#333\\\",\\n  };\\n\\n  const onChange = (e) => {\\n  setNumber(parseInt(e.target.value));\\n  };\\n\\n  const onClick = () => {\\n  setDark((prevDark) => !prevDark);\\n  };\\n  return (\\n  <div style={theme}>\\n    <input type=\\\"number\\\" name=\\\"\\\" id=\\\"\\\" value={number} onChange={onChange} />\\n    <button onClick={onClick}>Toggle Theme</button>\\n    <List getItems={getItems} />\\n  </div>\\n  );\\n}\\n\\nexport default App;\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ì´ë ‡ê²Œ ë³€ê²½í•´ì£¼ë©´ render list... ë¼ëŠ” ë¬¸êµ¬ëŠ” í…Œë§ˆê°€ ë°”ë€” ë•Œì—ëŠ” í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤.\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"useCallback ê°™ì€ ê²½ìš°ëŠ” í†µì‹ ì´ ì‚¬ìš© ë  ì‹œ, í˜¹ì€ \", _jsx(_components.a, {\n          href: \"https://dmitripavlutin.com/dont-overuse-react-usecallback/\",\n          children: \"ì´ ì¼€ì´ìŠ¤\"\n        }), \"ì²˜ëŸ¼ React.memoë¡œ ë¬¶ì¸ ìµœì í™”ëœ ìì‹ ì»´í¬ë„ŒíŠ¸ì˜ í•¨ìˆ˜ë¡œ ì„ ì–¸í•´ì¤„ë•Œ íš¨ìœ¨ ì ì´ë‹¤.\"]\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"ğŸ’ğŸ»â€â™‚ï¸Â React.memo\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"React.memo ë¡œ ë˜í•‘ì´ ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ë©”ëª¨ì´ì§• ë˜ëŠ” ì»´í¬ë„ŒíŠ¸, propsê°€ ë³€ê²½ë˜ê¸° ì „ê¹Œì§€ ë¦¬-ë Œë”ë§ì„ ë°©ì§€í•˜ë©° ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ ì„±ëŠ¥ì„ ìµœì í™” í•´ì£¼ëŠ” ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜ ëœë‹¤\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ê¸°ì¡´ì— useMemoëŠ” í•œ ê°’ì„ ë©”ëª¨ì´ì§• í–ˆë‹¤ë©´, React.memoë¡œ ë¬¶ìŒ ìœ¼ë¡œì„œ component ìì²´ë¥¼ ë©”ëª¨ì´ì§• í•  ìˆ˜ ìˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-jsx\",\n          children: \"function Component(props) {\\n  return <div>React.memo</div>;\\n}\\n\\nexport default React.memo(MyBigList);\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ì´ëŸ° React.memo ì»´í¬ë„ŒíŠ¸ë¥¼ ì„±ê³µì ìœ¼ë¡œ ë§Œë“¤ì—ˆë‹¤ë©´, memoized ì»´í¬ë„ŒíŠ¸ì—ëŠ” useCallbackì„ ë³´ë‚´ì¤Œìœ¼ë¡œì„œ ë Œë” ìµœì í™”ë¥¼ ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ì•„ë˜ëŠ” ê·¸ì— ê´€ë ¨ëœ ì˜ˆì‹œì´ë‹¤.\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-jsx\",\n          children: \"const Parent = () => {\\n  const [isClicked, setIsClicked] = useState(false);\\n  const handleClick = useCallback(() => {\\n  setIsClicked(true);\\n  }, []);\\n\\n  return (\\n  <>\\n    <Child onClick={handleClick} />\\n    <Child onClick={handleClick} />\\n    <Child onClick={handleClick} />\\n    ...\\n  </>\\n  );\\n};\\n\\nconst Child = React.memo(({ onClick }) => {\\n  return <button onClick={onClick}>Click Me!</button>;\\n});\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"âš ï¸Â React.memoì˜ props ê°€ ë³€ê²½ë˜ë©´ re-rendering ë˜ëŠ” ê²ƒì€ ë§ì§€ë§Œ, ë³€ê²½ ì—¬ë¶€ëŠ” shallow compareë¡œì„œ (object ê°™ì€ ê²½ìš° value ê°’ì´ í•œê°œë§Œ ë°”ë€Œì–´ë„ ë‹¤ì‹œ ë¦¬-ë Œë”ë§) ê·¸ê²ƒì„ ì˜ˆë°©í•˜ê³  ì‹¶ìœ¼ë©´ React.memoì— ë‹¤ ì¶”ê°€ì ì¸ í•¨ìˆ˜ë¥¼ ë„£ì–´ë„ ëœë‹¤.\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-jsx\",\n          children: \"function MyComponent(props) {\\n  /* ì»´í¬ë„ŒíŠ¸ ë¡œì§ */\\n}\\nfunction areEqual(prevProps, nextProps) {\\n  // props ë‘ê°œê°€ ë™ì¼ í•˜ë©´ true.\\n  // false ì¸ ê²½ìš° ë¦¬ë Œë”ë§ì„ ì‹œí‚¨ë‹¤ ==> shouldComponentUpdate ì˜ ì •ë°˜ëŒ€\\n}\\n\\nexport default React.memo(MyComponent, areEqual);\\n\"\n        })\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"ğŸ¤¬Â ì´ëŸ´ë•Â ì“°ì§€ë§ˆì„¸ìš”!\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"useCallback, useMemo ë˜í•œ ë‹¨ì ì´ ìˆë‹¤. ë‘ ê°œ ì˜ í•¨ìˆ˜ ê°™ì€ ê²½ìš° Wrapping function, ë¬¶ì—¬ ìˆëŠ” í•¨ìˆ˜ì™€ ë¹„ìŠ·í•˜ê¸° ë•Œë¬¸ì—, ë©”ëª¨ì œì´ì…˜ìš© ë©”ëª¨ë¦¬ë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ë‹¹ ì—° íˆ ë§ì´ ì‚¬ìš©í•˜ë©´ ëœ ì‚¬ìš©í•œê±°ë³´ë‹¤ ë©”ëª¨ë¦¬ë¥¼ ë” ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì—„ì²­ë‚˜ê²Œ ë³µì¡í•œ functionì´ ì•„ë‹ˆë¼ë©´ ì›¬ë§Œí•˜ë©´ í”¼í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤\"\n      })]\n    });\n  }\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true}