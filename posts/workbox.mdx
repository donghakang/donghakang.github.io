---
title: WorkboxğŸ“¦ ?
author: "Dongha Kang"
date: "2022-03-08"
tag: ["workbox", "Service Worker"]
---

## PWA ë€

ì „ì— í¬ìŠ¤íŠ¸ë¥¼ í–ˆë“¯ì´, PWAëŠ” Progressive Web Appìœ¼ë¡œì„œ standalone ì–´í”Œë¦¬ì¼€ì´ì…˜ ì²˜ëŸ¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì›¹ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ì´ë‹¤.

## Service Workerë€

PWAê°€ standaloneìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê°€ì¥ í° ì´ìœ  ì¤‘ í•˜ë‚˜ëŠ” service workerì¸ë°, service workerëŠ” browserë’¤ì—ì„œ ì‹¤í–‰ê°€ëŠ¥í•œ javascript íŒŒì¼ì´ë©°, network ì¸í„°ì…‰ì…˜, ìºì‹œ ì €ì¥ ë° ë¶ˆëŸ¬ì˜¤ê¸°, í‘¸ì‹œ ì•Œë¦¼ ê°™ì€ ê¸°ëŠ¥ì„ ì‹¤í–‰ì‹œí‚¬ìˆ˜ ìˆëŠ” ê¸°ìˆ ì´ë‹¤.

## Workbox ?

Service workerë¥¼ ë” ì˜ í™œìš© í•  ìˆ˜ ìˆë„ë¡ Googleì—ì„œ ë§Œë“  library ì´ë‹¤.

## ğŸ”¨Â Installation

```bash
npm install workbox-cli -g
```

workbox-cliëŠ” workboxë¥¼ ì‹¤í–‰í•´ì£¼ëŠ” ì»¤ë§¨ë“œê³ , -g íƒœê·¸ë¥¼ ë„£ì–´ì„œ ì–´ëŠ ê³³ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ globalí•˜ê²Œ ë‹¤ìš´ë¡œë“œ í•´ì£¼ëŠ” ì»¤ë§¨ë“œ ì…ë‹ˆë‹¤.

## âš™ï¸Â Setup

workboxë¥¼ ì œëŒ€ë¡œ ì“°ê¸°ì „ì— í”„ë¡œì íŠ¸ëŠ” ìˆì–´ì•¼ í•  ê±° ê°™ìœ¼ë‹ˆ.. í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ì–´ë³´ì

```bash
npx create-react-app <project name> --template cra-template-pwa
npx create-react-app <project name> --template cra-template-pwa-typescript
```

ì´ í”„ë¡œì íŠ¸ë¥¼ ë³´ê²Œ ëœë‹¤ë©´ `unregister`ë¥¼ `register`ë¡œ ë°”ê¾¸ê³  ë¹Œë“œë¥¼ í•´ì£¼ì.

```jsx
// src/index.js

serviceWorkerRegistration.register();
```

```bash
yarn run build
```

ì´ì œ workboxë¥¼ ì‹¤í–‰ì‹œì¼œë³´ì

```bash
workbox wizard
```

ì»¤ë§¨ë“œëŒ€ë¡œ ëŒ€ë‹µì„ í•´ì£¼ì

```bash
>> workbox wizard
? What is the root of your web app (i.e. which directory do you deploy)? build/
? Which file types would you like to precache? json, ico, png, txt, js, css, svg
? Where would you like your service worker file to be saved? build/service-worker.js
? Where would you like to save these configuration options? workbox-config.js
? Does your web app manifest include search parameter(s) in the 'start_url', other than 'utm_' or 'fbclid' (like '?source=pwa')
? No
To build your service worker, run

  workbox generateSW workbox-config.js

as part of a build process. See https://goo.gl/fdTQBf for details.
You can further customize your service worker by making changes to workbox-config.js. See https://goo.gl/gVo87N for details.
```

ì´ì œ workboxë¥¼ ì‹¤í–‰ ì‹œì¼œë³´ì

```bash
workbox generateSW workbox-config.js
```

ì € ì»¤ë§¨ë“œë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´, workbox ì„œë¹„ìŠ¤ ì›Œì»¤ë“¤ì´ ë§Œë“¤ì–´ì§€ê³  buildí´ë”ì— ìˆëŠ” íŒŒì¼ë“¤ì´ ìºì‹œí•  ì¤€ë¹„ë¥¼ í•©ë‹ˆë‹¤.

ì´ì œ serve -s build ë¥¼ ì‚¬ìš©í•´ì„œ ì •ì  ì›¹ì‚¬ì´íŠ¸ë¥¼ ë³´ê²Œ ëœë‹¤ë©´ ...

![Workbox ì˜ˆì‹œ](/img/workbox.png)

ì œëŒ€ë¡œ Cacheì™€ service workerê°€ ì‘ë™ ë˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

ì›¬ë§Œí•œ workbox recipesë“¤ì€ [ì—¬ê¸°](https://developers.google.com/web/tools/workbox/guides/common-recipes)ì—ì„œ í™•ì¸ í•˜ì.

recipeë“¤ì„ ë³€ê²½í•œ ì´í›„ëŠ” `workbox injectManifest worker-config.js` ë¥¼ ëŒë ¤ì£¼ì
