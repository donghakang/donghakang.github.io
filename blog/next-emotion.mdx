---
title: Next.js - Typescript - Emotion.js
author: "Dongha Kang"
date: "2022-03-15"
tag: ["Next.js", "TypeScript", "emotion"]
---

![Untitled](/img/emotion.png)

ğŸ¤¦ğŸ»â€â™‚ï¸Â êµ‰ì¥íˆ ì°½í”¼í•˜ì§€ë§Œ ì‚¬ì†Œí•œ ë¬¸ì œë¡œ Emotional Damageë¥¼ ì…ì€ ë‚˜. ê·¸ ì‹¤ìˆ˜ë¥¼ ë‹¤ì‹œëŠ” ì•ˆí•˜ê²Œë”, ê·¸ë¦¬ê³  í˜¹ì‹œ ì½ëŠ” ì‚¬ëŒì´ ìˆë‹¤ë©´ ê·¸ ë¶„ë„ ì•ˆí•˜ê²Œë” ì—¬ê¸°ì—ë‹¤ê°€ ì°¨ì•„ì•„ì•„ì•„ê·¸ìœ¼ìœ¼ì€ì°¨ì•„ì•„ì•„ì•„ê·¸ìœ¼ìœ¼ì€ ì´ˆê¸° ì„¤ì •ì„ ì¢€ ì‘ì„±í•´ë³´ë ¤ í•œë‹¤.

## create-next-app

ì´ˆê¸° ì„¤ì •ì„ typescriptë¡œ í•˜ë ¤ë©´ `create-next-app` ì— `â€”-ts` ë¥¼ ë‹¬ì•„ ì£¼ë©´ ëœë‹¤.

```bash
npx create-next-app --ts
```

ê·¸ ë‹¤ìŒì—ëŠ” ë‹¹ì—°íˆ í”„ë¡œì íŠ¸ ì´ë¦„ì„ ë„£ìœ¼ë©´ ì´ˆê¸° next.js ì„¤ì • ë.

## @emotion

ë­ styled components ë¥¼ ë„ˆë¬´ ì¢‹ì•„í•˜ëŠ” ì…ì¥ìœ¼ë¡œì„œ, emotionì´ ë­ì•¼ ì´ë¬ì—ˆëŠ”ë°, í•œë²ˆ ì¨ë´ì•¼ì§€ í•˜ê³  ëŠê¼ˆë‹¤.. ì´ì œ ì´ê²ƒë§Œ ì¨ì•¼ì§€.

emotionì˜ ì¥ì ì€ ìš°ì„  1ë²ˆ, styled-componentsë¥¼ ì“¸ ìˆ˜ ìˆê³ , (íƒ‘ì¬ ë˜ì–´ìˆìŒ) ë˜í•œ styleì´ë¼ëŠ” props ë§ê³ ë„ ê·¸ëƒ¥ css ë¼ëŠ” propsë¥¼ ì‚¬ìš©í•´ì„œ cssë¥¼ ëŒ€ë†“ê³  ë„£ì„ ìˆ˜ ìˆì–´ì„œ ì½”ë“œë¥¼ ì½ê³  ê³ ì¹˜ê¸°ê°€ í›¨ì”¬ í¸í•˜ë‹¤ëŠ” ìƒê°ì„ í–ˆë‹¤.

ë‹¤ìš´ë¡œë“œëŠ” í•­ìƒ ë¹„ìŠ·í•˜ê²Œ.

```bash
yarn add @emotion/react @emotion/styled
```

ë­ ì—¬ê¸° ê¹Œì§€ëŠ” ğŸ•ë‚˜ ğŸ„ë‚˜...

---

## ì•¼, ê·¼ë° ì›¨ ì•ˆë’ˆ

í˜„ì¬ ìƒí™©ì—ì„œ ì•„ë¬´ ê³³ì—ë‹¤ê°€ css propsë¥¼ ë„£ì–´ë³´ë©´ ì•Œê² ì§€ë§Œ.. ë‹¹ì—°íˆ ì•ˆëœë‹¤.

ì—ëŸ¬ëŠ” ì•„ë˜ì™€ ê°™ì„ ê²ƒì´ë‹¤.

```
Property 'css' does not exist on type
'DetailedHTMLProps<HTMLAttributes<HTMLHeadingElement>,
HTMLHeadingElement>'.ts(2322)
```

Typescript ì—ì„œ ì•„ì§ css ë¥¼ ì„ ì–¸ì„ ì•ˆí•´ì¤¬ë‹¤ëŠ” ëœ»ì´ë‹¤. ì•„ì§ ì € cssê°€ ë­”ì§€ ëª¨ë¥¸ë‹¤ëŠ” ê²ƒì´ë‹¤.

ë¸”ë¡œê·¸ ì‘ì„±ì¼ ê¸°ì¤€, @emotionì€ `v.11.8.1-2` ì„ ì‚¬ìš©í•˜ëŠ”ë° ì´ ë¬¸ì œì— í•´ê²°ë²•ì€ typescript configurationì— emotionì˜ propsë¥¼ ì•Œë ¤ì£¼ëŠ” ê²ƒì´ë‹¤.

```json
// tsconfig.json
{
  "compilerOptions": {
    "jsxImportSource": "@emotion/react",
    "types": ["@emotion/react/types/css-props"]
  }
}
```

ê·¸ëŸ¬ë©´ ì´ì œ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•œë‹¤!

---

## ğŸŒê¸€ë¡œë°œ

styled-components ì—ì„œëŠ” `ThemeProvider`ë¥¼ ì‚¬ìš©í•´ì„œ `useContext`ì²˜ëŸ¼ ë¬¶ì–´ì„œ Global themeì„ ì‚¬ìš©í•  ìˆ˜ ê°€ ìˆë‹¤.

emotion ê°™ì€ ê²½ìš°ë„ `ThemeProvider`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ë„ìˆê³ , ê·¸ ì™€ ë™ì‹œì— `Global` ì´ë¼ëŠ” êµ¬ì„± ìš”ì†Œë„ ìˆë‹¤.

ì´ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ìµœìƒìœ„ í˜ì´ì§€ì¸ `_api.tsx` ì„ ë³´ì.

```tsx
import { ThemeProvider, Global } from "@emotion/react"
import global from "../assets/theme/global"
import theme from "../assets/theme/theme"
import type { AppProps } from "next/app"

function MyApp({ Component, pageProps }: AppProps) {
  return (
    <ThemeProvider theme={theme}>
      <Global styles={global} />
      <Component {...pageProps} />
    </ThemeProvider>
  )
}

export default MyApp
```

ì´ëŸ°ì‹ìœ¼ë¡œ `Global`ì„ ì„ ì–¸í•´ì£¼ë©´ ë˜ëŠ”ë°... ì—¬ê¸°ì„œ ì ê¹, `Global` ê³¼ `ThemeProvider`ì˜ ì°¨ì´ì ì€..

Globalì— ë“¤ì–´ê°€ëŠ” global ê°’ì€ css ê°’ì´ê³ , ThemeProviderì— ë“¤ì–´ê°€ëŠ” themeì€ ê·¸ëƒ¥ ë³€ìˆ˜ ê°’ê³¼ ê°€ê¹ë‹¤ëŠ” ê²ƒì´ë‹¤. ì˜ˆì‹œë¥¼ ë³´ìë©´..

```tsx
// global.ts
import { css } from "@emotion/react"

export const global = css`
  @font-face {
    font-family: "Inter";
    src: url("/fonts/Inter.ttf");
  }

  html,
  body {
    padding: 0;
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu,
      Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;
  }

  h1 {
    font-family: "Inter", -apple-system, sans-serif;
  }
`
```

```tsx
// theme.ts
const colors = {
  primary: "#1e90ff",
  secondary: "#ff8d1e",
}

const screen = {
  mq: {
    mobile: `@media only screen and (max-width: 768px)`,
  },
}

const theme = {
  colors,
  screen,
}

export default theme
```

- Global: @emotion/css ê°’ì´ ë“¤ì–´ê°€ë©°, styles/globals.css ë¥¼ ëŒ€ì²´í•œë‹¤.
- ThemeProvider: ìì£¼ ì“°ì´ëŠ” ë³€ìˆ˜ ê°’ìœ¼ë¡œ ì£¼ë©°, @emotion/styled ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

---

## emotion typeì´ ë‚´ê°€ ì´ í¬ìŠ¤íŠ¸ë¥¼ ì“°ëŠ” ì´ìœ ...

ì‚¬ê±´ì˜ ì‹œì‘ì€ ì´ëŸ¬í•˜ë‹¤...

ThemeProviderì— ìˆëŠ” themeì˜ íƒ€ì…ì„ ì„¤ì •í•˜ëŠ”ë° ....

```tsx
// /@types/emotion.d.ts
declare module "@emotion/react" {
  export interface Theme {
    screen: {
      mq: {
        mobile: string
      }
    }
    colors: {
      primary: string
      secondary: string
    }
  }
}
```

ì•„ë‹ˆ... ì´ë ‡ê²Œ ë„£ì—ˆëŠ”ë° ê°‘ìê¸° í™”ë©´ ì „ì²´ê°€ ë¹¨ê°œì§€ë©´ì„œ ì´ëŸ° ë¬¸êµ¬ê°€ ë–´ë‹¤.

```
Module '"@emotion/react"' has no exported member 'css'.ts(2305)
```

ë‹¤ ì•Œì•„ ë³¸ ê²°ê³¼ ... `import '@emotion/reactâ€™`... ğŸ¤¦ğŸ»â€â™‚ï¸Â x1000000000

```tsx
// /@types/emotion.d.ts
import "@emotion/react"

declare module "@emotion/react" {
  export interface Theme {
    screen: {
      mq: {
        mobile: string
      }
    }
    colors: {
      primary: string
      secondary: string
    }
  }
}
```

---

ì´ë ‡ê²Œ ê¹Œì§€ í–ˆìœ¼ë©´ ì´ˆê¸°ì„¤ì •ì€ ë§ˆë¬´ë¦¬ ëœë‹¤. ë‹¤ìŒë¶€í„°ëŠ” ë°”ë³´ê°™ì€ ì‹¤ìˆ˜ í•˜ì§€ ë§ì... ì œë°œ.
