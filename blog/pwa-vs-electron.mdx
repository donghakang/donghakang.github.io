---
title: PWA vs Electron 🥊
author: "Dongha Kang"
date: "2022-04-21"
tag: ["PWA", "Electron"]
---

## Electron 이란 ?

open source framework로서 cross platform desktop application을 만들어준다.

Web app 같은 경우 browser에 따라서 속도와 성능이 다를 수 있고, file system이 한정적이며 네트워크에 따라서 속도가 많이 달라 질 수 있기 때문에 Desktop 어플리케이션을 선호 할 수 있다. 

굳이 Web 기술을 사용하면서 Desktop 어플리케이션을 만드는 이유는 Web 컴파일이 진입장벽이 더 낮으며 또한 윈도우, 맥 등 다른 OS 시스템에서도 사용 할 수 있다.

<aside>
💡 Electron = Chromium + Node.js

</aside>

## PWA ? Electron ?

### PWA

Google에서 개발된 것으로 Progress Web Application은 앱 처럼 보이는 웹사이트라고 생각하면 될 것 같다. Web 과 네이티브 앱가 섞여있고 push notification이나 geolocation을 탑재할 수 도 있다.

### Electron 과 차이점

PWA와 비슷하지만, Electron은 데스크탑 어플리케이션으로 생성할 수 있으며 native API 뿐만 아니라 Chromium의 렌더링 엔진을 사용 할 수 있다. slack, discord, vscode 가 Electron으로 만들어진 Application 이다.

---

## 🚿 Electron 의 Downfall

말로 들으면 완벽해 보이는 Electron 마저도 최근 들어서 사용자 수가 급하락했다. 왜 일까 우선 Electron이 왜 PWA와 비교를 당하는지 자세히 알아보자

- **Availability**: Electron 어플리케이션은 데스크탑 어플리케이션의 하이브리드 버전이다. 반면에 PWA는 데스크탑 뿐만 아니라 모든 디바이스에서 열람이 가능하다. (물론 PWA가 실행 가능해야한다)
- **Performance:** 의외로 Electron 의 퍼포먼스 또한 최고는 아니다. PWA같은 경우 퍼포먼스가 Electron 보다 더 뛰어나며 로딩 타임이 캐시를 사용하기 때문에 훨씬 빠르다.
- **Updating:** 네이티브 어플리케이션의 가장 큰 단점으로 손 꼽히는 업데이트는 PWA와 비교도 할 필요가 없는것 같다. PWA같은 경우 server에서 업데이트가 되기 때문에 재 다운로드를 할 필요도 없다.
- **Size**: Electron이 다른 데스크탑 어플리케이션 보다는 확실히 용량이 작다, 하지만 PWA와 비교해서는 아직도 큰것 같다.
- **Security:** PWA는 Https 자체에서 보안을 확인 하기 때문에 manual 하게 다 설정해줘야한다.

## 도대체 언제 Electron을 사용할까

PWA가 너무 좋다 찬양은 했지만 Electron도 설 자리는 있다. PWA가 모든 비즈니스 모델에 적합한 환경을 구현할 수 있지는 않기 때문이다. 

Electron은 네이티브 어플리케이션 이기때문에 하드웨어와 메모리를 이용해서 User-mode를 사용하기 때문에 웹과의 개연성이 덜하고 그로 인해 더 안정적이며, 더 안전한 환경을 지원해준다. 

즉, 업데이트가 많지 않으며, 사용자의 개입이 필요하고, 웹사이트로 만들지 않고 차별점을 두는 네이티브 어플리케이션을 만들고 싶다면 Electron을 추천하는 듯 하다

<aside>
💡 Electron은 현재 사용자가 꽤 있으며, 큰 비즈니스 모델을 창출하거나, 무조건 데스크탑 어플리케이션으로 사용하고 싶을때 사용 하면 좋고 또한 웹 개발자 이지만 데스크탑 어플리케이션을 만들고 싶을때 좋다.

PWA는 소프트웨어를 빠르게 마켓에 올리고 싶거나, 데스크탑 뿐만 아니라 모바일에서 사용하고 싶을때 또는 푸쉬 알람 과 같은 다양한 기능을 탑재하는 소프트웨어를 만들고 싶을때 주로 사용한다.

</aside>

---

## 🏗 설치

```bash
yarn add -D electron
```

## 사용

- `app`: 어플리케이션의 이벤트 생명주기
- `BrowserWindow`: 어플리케이션의 윈도우를 담당하고 생성하는 모듈

```jsx
const {app, BrowserWindow } = require('electron')
```

```jsx
const createWindow = () => {
	const win = new BrowserWindow({
		width: 800,
		height: 600
	})

	win.loadFile('index.html')
}

```

`createWindow` 라는 식을 돌림으로서 새로운 BrowserWindow instance를 만든다.

```jsx
app.whenReady().then(() => {
	createWindow();
})
```

 app 모듈의 ready event 가 실행되면 그 후에 createWindow를 실행한다..

Electron 같은 경우, BrowserWindow는 app 생성된 이후에만 만들어 줄 수 있기 때문에, whenReady를 사용해서 비동기적으로 해결한다.

어플리케이션은 각 OS별로도 다르게 반응하기 때문에 lifecycle을 추가적으로 관리를 해야한다.

1. 윈도우를 다 종료하는 방법 (윈도우 & 리눅스)

```jsx
app.on('window-all-closed', () => {
	if (process.platform !== 'darwin') app.quit();
})
```

1. 아무것도 열리지 않은 경우 다시 확인해서 연다. (맥)