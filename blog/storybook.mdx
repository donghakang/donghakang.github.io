---
title: Storybook 🦄
author: "Dongha Kang"
date: "2022-04-23"
tag: ["storybook"]
---

## Storybook이란 ?

- UI 컴포넌트를 위한 개발 환경 및 플레이그라운드
- UI 라이브러리를 문서화 / 디자인 시스템 개발을 위한 플랫폼
- 다양한 개발 중인, 개발 된 구성요소를 확인 할 수 있다
- 컴포넌트의 props를 쉽게 확인 할 수 있다.
- 컴포넌트를 공유하고 개발 중인 구성요소의 피드백을 쉽게 전달 가능 하다
- 동적으로 props를 바꿔서 확인 할 수 있다.

## 🏗 설치

프로젝트 폴더에서 아래의 명령어 실행

```bash
npx sb init
```

이 과정에서 스토리북은 모든 dependencies를 읽고 config를 생성한다. 바뀌는 것들은 아래와 같다 .

- `package.json`: 새로운 devDependencies를 확인 할 수 있다. (storybook ..). 또한 scripts 에도 storybook에 관련된 다양한 명령어도 추가되어있다.
- `.storybook` : storybook의 초기 설정들이 추가되어 있다. 기본 configuration다 첨부 되어있다.
    - main.js: storybook의 configuration files
    - preview.js: storybook을 위한 코드의 configuration files
- `src/stories` : 각 컴포넌트를 storybook에 띄우기위해 작성된 예시 코드들. 이 파일들을 이용해서 나중에 storybook에 구성요소에 대한 설명들이 올라간다.

한번 실행해 보자

```bash
yarn storybook
```

![스크린샷 2022-04-22 오후 4.18.44.png](/img/blog/storybook1.png)

## 사용하기

기본적으로 storybook에 컴포넌트로 넣기 위해서는 3가지의 파일들이 필요하다.

- `Component.js` : 진짜 컴포넌트 파일.
- `Component.css` : 그 컴포넌트를 스타일링 해주는 파일
- `Component.stories.js` : 스토리북에 넣는 파일

말로 설명하는 것 보다 직접 예시를 보며 사용해보자 

아래는 Button컴포넌트를 만들기 위해 만들어진 세개 의 파일이다 (`Button.tsx`, `button.css`, `Button.stories.tsx`)

```jsx
// Button.tsx
import React from "react";
import "./button.css";

// Props의 타입을 설정해준다.
interface ButtonProps {
  variant: string;
  children: React.ReactNode;
}

// 실제 컴포넌트 파일
const Button = ({ variant, children }: ButtonProps) => {
  return (
    <button className={`button ${variant} { ...rest }`}>{children}</button>
  );
};

export default Button;
```

위의 파일을 간단하게 보면 variant로 종류를 나누는것을 확인 할 수 있다.

```css
.button {
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  border-radius: 4px;
  cursor: pointer;
}

.primary {
  background-color: #008cba;
}

.secondary {
  background-color: #e7e7e7;
  color: black;
}

.success {
  background-color: #4caf50;
}

.danger {
  background-color: #f44336;
}
```

위는 단순한 css 파일이다. 보면 primary, secondary, success, danger라는 4개의 variant별로 색깔을 다르게 설정한 것을 볼 수 있다.

```jsx
import Button from "./Button";

export default {
  title: "Button",
  component: Button,
};

export const Primary = () => <Button variant="primary">Primary</Button>;
export const Secondary = () => <Button variant="secondary">Secondary</Button>;
export const Sucsess = () => <Button variant="success">Sucsess</Button>;
export const Danger = () => <Button variant="danger">Danger</Button>;
```

위의 파일이 storybook으로 내보내는 파일인데, Button이라는 큰 컴포넌트안에 보여질 수 있는 모든 variants들을 storybook에 업로드 하고자 Primary, Secondary, Success, Danger로 export 해준다. 

위의 파일은 `yarn storybook` 을 진행하면 어떤 결과를 초래하는지 확인할 수 있다.

![storybook component](/img/blog/storybook2.png)

옆에 메뉴에는 Button 컴포넌트아래 4개의 variant들을 확인 가능하며 클릭과 동시에 Canvas에는 Button 컴포넌트 모습이, 그 밑 control에는 이름과 설명이 써있다.

<aside>
💡 여기까지만 하고 다양한 예시들을 사용한 간단한 연습 프로젝트에서 storybook v6에 대해 확인하자.

</aside>